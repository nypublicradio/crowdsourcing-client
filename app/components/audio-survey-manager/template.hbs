<div class="audio-survey__header">
  <div class="audio-survey__header-title">
  {{#if (eq step '1')}}
    Record yourself
  {{else if (eq step '2')}}
    Approve recording
  {{else if (eq step '3')}}
    Enter your info
  {{/if}}
  </div>

  <span>
    Step {{step}} of 3
  </span>

  {{#if showBadState}}
    <button {{action (mut openEscapeHatch) true}}>Show Bad State</button>
  {{/if}}
</div>

{{#if (eq step '1')}}
  {{audio-recorder question=audioQuestion title=survey.title next=(action next 'callId')}}
{{else if (eq step '2')}}
  {{#playback-screen callId=submission.callId as |url isReady|}}

    {{#action-button class="playback-screen__approve gtm__click-tracking-w-text" data-action="Step 2" click=(action next 'url' url) disabled=(not isReady)}}
      Use This Recording
    {{/action-button}}

    {{#action-button class="playback-screen__cancel gtm__click-tracking-w-text" data-action="Step 2" hollow=true click=(action back)}}
      Re-Record
    {{/action-button}}

  {{/playback-screen}}
{{else if (eq step '3')}}
  {{#personal-info
    onSubmit=(action finish)
    questions=survey.questions
    submission=submission}}

    {{#action-button class="personal-info__cancel gtm__click-tracking-w-text" data-action="Submission" hollow=true click=(action cancel)}}
      Cancel
    {{/action-button}}

  {{/personal-info}}
{{/if}}

{{#if openEscapeHatch}}
  {{escape-modal}}
{{/if}}
